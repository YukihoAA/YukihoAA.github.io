---
title: 2019-02-19
date: 2019-02-19 14:57:50
category: DevLogs
tags: Waifu2x
---

stride 2, padding 3인 상황에서의 spatial full convolution (transposed convolution)을 구현하기 위해

이미지를 2칸 간격으로 배치하였다.

                                   10203040
					   1234        00000000
                       5678   ->   50607080
					   9abc        00000000
					               90s0b0c0
			
이 과정에서 기존에 W2Mat class를 위해 정의되어있던 copy_to_cvmat()과 copy_from_cvmat()을 활용하였다.

그런데 알고 보니 해당 함수들은 메모리 참조 문제가 있어서 결과값에 문제가 생겼었다. 따라서 이것을 수동으로 복사할 수 있도록 만들어 이것 저것 시행착오를 거쳐 해당 동작을 수행하도록 완성하였다.

인풋 이미지만 잘 해결하면 될거라고 상각했으나 현재 결과적으로 전혀 의도되지 않은 출력물이 발생하고 있다.

CNN에 대해 자세하게 알지 못하는 나로써는 현재까지 해온 결과물이 최대한의 결과물이기 때문에 더 이상 해당 부분에 대한 개발은 진행하지 않기로 하였다.

앞으로는 ffmpeg를 이용한 video2x 구현을 하려고 한다.
